 Поиск в глубину (Depth-First Search, DFS) — это алгоритм обхода или поиска в графе. Он начинает с начальной вершины и идет вглубь графа, пока не достигнет вершины без непосещенных соседей, затем возвращается назад и продолжает процесс с другими вершинами.

Шаги алгоритма:

- Начинаем с выбранной начальной вершины и помечаем её как посещенную.
- Исследуем первую непосещенную соседнюю вершину.
- Повторяем шаги 1 и 2 для этой соседней вершины.
- Если все соседи текущей вершины посещены, возвращаемся назад (backtrack) к предыдущей вершине и продолжаем процесс.
- Процесс повторяется до тех пор, пока не будут посещены все вершины, достижимые из начальной вершины.

Визуализация:

![[Pasted image 20240816130159.png]]

## Временная и пространственная сложность DFS
Временная сложность:
O(V + E), где V – количество вершин, E – количество рёбер.
Каждый узел и каждое ребро графа посещаются один раз.

Пространственная сложность:
O(V), так как используется стек вызовов или явный стек для хранения вершин, а также массивы для хранения состояния (посещенные вершины). 

## Реализация DFS При помощи рекурсии
```python
def dfs_recursive(graph, start, visited=None):
    if visited is None:
        visited = set()
    visited.add(start)
    print(start)  # Обработка узла

    for neighbor in graph[start]:
        if neighbor not in visited:
            dfs_recursive(graph, neighbor, visited)

# Пример использования:
graph = {
    'A': ['B', 'C'],
    'B': ['A', 'D', 'E'],
    'C': ['A', 'F'],
    'D': ['B'],
    'E': ['B'],
    'F': ['C']
}
dfs_recursive(graph, 'A')
```

## Реализация DFS с использованием стека.
Итеративная реализация DFS (с использованием стека):
```python
def dfs_iterative(graph, start):
    visited = set()
    stack = [start]

    while stack:
        vertex = stack.pop()
        if vertex not in visited:
            visited.add(vertex)
            print(vertex)  # Обработка узла

			# Обратный порядок для правильного порядка обхода
            for neighbor in reversed(graph[vertex]):  
                if neighbor not in visited:
                    stack.append(neighbor)

# Пример использования:
graph = {
    'A': ['B', 'C'],
    'B': ['A', 'D', 'E'],
    'C': ['A', 'F'],
    'D': ['B'],
    'E': ['B'],
    'F': ['C']
}
dfs_iterative(graph, 'A')
```