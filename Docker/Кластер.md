## Что такое кластер

**Кластер** — это группа из нескольких компьютеров (или виртуальных машин), объединённых так, что они работают как единая система.

В контексте **Docker Swarm**:

* кластер состоит из **одного или нескольких manager-узлов** и **worker-узлов**;
* все узлы объединены в сеть и управляются как единый пул ресурсов;
* пользователю не нужно вручную запускать контейнеры на каждом узле — Swarm сам распределяет сервисы по кластерам.

## Аналогия

Представь ресторан:

* **Менеджеры (manager-узлы)** → принимают заказы и решают, кому из сотрудников их передать.
* **Работники (worker-узлы)** → выполняют заказы (готовят еду).
* Вместе они = **ресторан (кластер)**.

## Зачем нужен кластер

1. **Масштабируемость** → можно добавить новые узлы, и приложения будут распределяться автоматически.
2. **Отказоустойчивость** → если один worker упадёт, контейнеры перезапустятся на другом.
3. **Балансировка нагрузки** → запросы пользователей распределяются между узлами.
4. **Единая точка управления** → всё администрируется через manager-узлы.

## Пример из Docker Swarm

Ты поднял кластер из 3 виртуалок:

* `manager01` (управляющий узел)
* `worker01`
* `worker02`

Когда ты сделал:

```bash
docker stack deploy -c docker-compose.yml stack
```

Swarm сам решил, куда отправить каждый сервис. Например:

* `postgres` оказался на manager01,
* `booking-service` мог запуститься на worker01,
* `gateway-service` мог запуститься на worker02.

Но тебе это прозрачно: снаружи всё работает как одно приложение.

- То есть кластер = **набор узлов, работающих вместе как единый сервер**.